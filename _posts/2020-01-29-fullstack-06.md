---
layout: post
tag: fullstack
title: Flask
---

## Install
미국은 거의 맥을 사용해서 그런지 설치도 맥 버전으로만 설명해서 그냥 따라하다가 오류가 나서 또 한참 헤맸다.
일단 Flask와 Falsk-SQLAlchemy를 설치한 후 코드를 작성하고 run을 하려니 FLASK_APP을 실행할 수 없다고 나왔다.
그래서 확인해보니 윈도우에서는 실행시키는 명령어가 달랐다 . cmd에서 할 때와 PowerShell에서 할 때도 다르게 작성해야 하는데
내 컴퓨터에서는 뭐가 꼬였는지 cmd로 할때는 계속 실행이 안되었다(**update** ==> 안되었던 이유: `FLASK_APP = app.py`처럼 등호 양 옆에 공백이 있어서는 안된다!!!!! `FLASK_APP=app.py`로 작성되어야 함). 그래서 PowerShell로 들어가서 했더니 된다.

#### 사용한 코드
```
$env:FLASK_APP = "flask-hello-app.py"
flask run
```

++ [Command Line Interface of Flask](https://flask.palletsprojects.com/en/1.1.x/cli/)

위의 코드를 실행시키면
`Running on http://127.0.0.1:5000/`과 같이 development server가 생기는데 이는 `http://IP주소:포트넘버/`이다. 왜냐하면 웹 서버도 우리의 로컬 머신 안에 있고 우리의 로컬 머신에서 연결을 허용할 것이기 때문이다. shrotcut은 `localhost:5000`

## Hello App with Flask-SQLAlchemy - Part 1

```python
from flask import Flask

app = Flask(__name__)     ## flask application을 만드는 가장 기본적인 방법

## 홈페이지에 가서 내가 쓴 Hello World를 출력하고자 한다.
@app.route('/')  # 연결을 위한 homepage route
def index():     # route handler, Index is a standard name for the route handler that listens for connections to the root route and figures out what do next.
  return 'Hello World!'
```

@app.route is a Python decorator. Decorators take functions and returns another function, usually extending the input function with additional("decorated") funcionality. @app.route is a decorator that takes an input function `index()` as the callback that gets invoked when a request to route `/` comes from a client.

라우팅 참고자료
https://spoqa.github.io/2012/01/16/wsgi-and-flask.html
https://mooneegee.blogspot.com/2017/10/python-flask-routing.html


invoke
https://stackoverflow.com/questions/18505422/whats-the-difference-between-call-and-invoke
