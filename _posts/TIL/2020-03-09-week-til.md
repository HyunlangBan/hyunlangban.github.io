---
layout: post
title: 200309-200315 TIL
tag: TIL
---

### 200310 (월)
#### 오늘한것
- phone validator 문제를 해결했다. 
  - 내가 확인하고 싶었던 것은 전화번호가 제대로 입력되지 않았을때 phone에 대한 에러메시지를 나타내는지였다. 하지만 
휴대폰 전화를 제대로 입력했음에도 불구하고 `if form.validate()`안의 내용이 실행되지 않는 것이다. 
  - 그 이유를 확인하기 위해 `print(form.errors)`를 해보았더니 facebook link, website, image link의 공란이 URL형식에 맞지 않아서 유효하지 않은 값으로
 처리되고 있었다. 하지만 그 값들은 nullable한 값이므로 이것을 처리해주어야 했다.
  - form.py에서 위의 세 값들의 validator는 URL()뿐이었다. 하지만 값이 None일때는 유효값 확인이 필요 없으므로 [Optional()](https://wtforms.readthedocs.io/en/stable/validators.html#wtforms.validators.Optional)을 추가해주었다.
- Project1을 드디어 제출했다! 얏호
- Project2: Trivia API를 진행중이다.
  - delete 메소드로 route에 id값이 주어졌을때 해당 값이 db에서 삭제되도록 했다. 이 때 만난 에러는 JSONDecodeError이다. 내 경우에는 response가 None이었기 때문이었다. 
  내가 지정한 아이디는 db에 없었던 값이거나 내가 테스트를 하다가 삭제한 값이므로 404 error이다. 나는 404 error시 `abort(404)`를 했었기 때문에 
  response에 아무 값도 전달되지 않았던 것이다. 
