---
layout: post
tag: TIL
title: 200330-200405 TIL
---
### 200330 (월)
#### 오늘한것
- 생활코딩에서 리눅스 터미널에 대한 강의들을 듣기 시작했다. 우분투를 깔면 바로 진행중인 프로젝트를 할 수 있도록 커맨드들을 익혀두려고 한다. 
- 우분투를 듀얼부팅으로 깔려면 유선랜이 필요하다고 해서 렌젠더를 주문했다.

### 200331 (화)
#### 오늘한것
- 생활코딩 리눅스 강의 듣기
  - 커맨드 부분은 오늘 다 들었고 서버에 관련된 내용이 시작됐다. 
  
#### 내일할것
- 백준 DNA 답 다시 적어보기

### 200401 (수)
#### 오늘한것
- 우분투를 듀얼 부팅으로 설치했다. 그리고 윈도우를 날렸다. ......!
  - 파티션 부분을 신중하게 생각했어야되었는데 그냥 안쓰는 부분에 넣으면 되겠지 하고 남은 부분이 아니라 사용하고 있는 부분(사용함0으로 떠있어서 사용해도 되는줄 알았다..)을 루트 파티션으로 정한게 문제인 것 같다..나중에 알고보니 그 부분이 c드라이브였다..
  - 우분투는 잘 깔렸고 실행도 잘 되는데 윈도우를 켤 수가 없다. 당연히 거기있던 모든 파일도 사라졌다..... 만우절 장난이었으면 좋겠지만 현실이었다..
  - 파일들을 분산해서 저장해두어서 크게 날린건 없었지만 윈도우에 무슨 파일들이 있었는지 기억이 안난다. 그래도 프로젝트 했던 것들은 깃허브에 올라가있어서 다행이다. 하지만 교환학생 준비하면서 썼던 지원서나 자료들이 사라졌다. 다시 쓸 일은 없었지만 열심히 준비했던 자료들이 사라져서 마음이 아프긴하다.
#### 내일할것
- 듀얼부팅 설치 다시 시도하기

### 200402 (목)
#### 오늘한것
- 우분투 듀얼부팅을 다시 시도했다. 
  - 컴퓨터를 포멧하려고 하는데 아예 내 C드라이브를 우분투로 다 할당해버려서(ㅠㅠ) 포맷할 용량도 없는 상태였다..그래서 리눅스에서 GParted로 빈 파티션을 할당해주었더니 그제서야 포맷이 가능했다.
  - 포맷을 한 뒤에 정말로 신중하게 다시 파티션을 나누었다. 어차피 학원다니게되면 윈도우를 많이 사용하지 않게 될 것 같아서 100기가 정도를 우분투에 할당했다.
  - 드디어 듀얼부팅에 성공했다. 윈도우도 잘 실행되고 우분투도 잘 실행된다!
- DNA 답안을 안보고 작성해보았다. 역시 안보고 적으려니 생각하는 시간이 길어졌다. 근데 백준에 코드를 제출하면 실패라고 뜨는데 내가 예제를 돌려보면 다 제대로 답이 나온다. 문제가 뭘까?
- 필요한 것 설치하기
  - 일단은 vscode 그리고 곧 제출해야하는 EKS 프로젝트를 위해 docker, awscli, eksctl, cubectl을 설치했다. 나머지들은 필요할때마다 차근차근 설치해야나가야겠다.
  
### 200403 (금)
오늘 외출후 돌아오니 해외 결제 알림 문자가 왔다. AWS에서 돈이 빠져나갔다고...... 나는 분명 무료 체험판(Free Tier)를 한 것 같은데 도대체 뭐지?! 하고 들어가보니 아마도 프리 티어 이상의 서비스를 사용해서 과금이 되고 있었던 것 같다. 아니 그냥 수업만 따라했을 뿐인데 하... 심지어 프로젝트는 다 끝내지도 못했다. 중간에 길을 잃고 중지 상태.... 우분투로 윈도우 날리고 악몽까지 꿨는데 이번에는 AWS의 늪이다. 하 .. 3월달에 결제 된 것과 지금 4월까지 사용한걸 합하면 거의 10만원이 결제 될 판이다. 미치겠다. 안그래도 Udacity 연장이 거의 20만원 돈이라 아끼고 있었는데 막막해졌다. 그래도 AWS가 이런 문제에 대해 관대한 편이라길래 문의 글을 남겨두었다. 제발 도와주세요...
그래서 오늘은 계속 나가고 있던 요금을 중지하기 위해 여기저기 들어가서 뭐라도 있으면 다 삭제했다. 그리고 요금 과금없이 어떻게 이 프로젝트를 끝낼 수 있을지 Udacity에 문의했다. 정답을 알려주세요..휴

### 200404 (토)
- AWS 과금 문제 해결
  - 일단 눈에 보이는 모든 걸 삭제했다. EC2와 CloudFormation에 만들었던 것을 다 삭제했다. 그리고 자고 일어나보니 또 요금이 올라가있어서 어떻게 해야할지 정말 막막했다. 만들어두었던 클러스터 2개가 VPC때문에 삭제에 자꾸 실패해서 일단 default vpc도 삭제해버렸다... 그때는 일단 너무 착잡해서 눈에 보이는대로 다 지워버렸다. 
  - 어제 aws에 남겨두었던 문의가 회신이 왔다. 나는 free tier를 사용하고 있고 이용에 미숙해서 요금이 과금된 것 같다. 혹시 환불해 줄 수 있는지 물어봤다(검색해보니 aws가 이런거에 관대하다는 후기가 많았어서).. aws는 진짜 대인배였다.(ㅠㅠ) 이미 내 카드에서 빠져 나간돈도 환불해주고 4월달에 부과된 요금도 다시 0원으로 되돌려주었다. 3월 4월 요금 합치면 거의 10만원 돈이라 하루종일 착잡했었는데 정말 다행이었다!
  - 내가 과금이 된 이유는 3가지였다: NAT Gateway (not covered by Free Tier), On Demand Linux m5.large Instance, EKS cluster (not covered by Free Tier)
  - Udacity에서 설명하는대로 그냥 CLI를 통해서 cluster를 생성했더니 free tier의 이상의 것들이 돌아가고 있었나보다. 하지만 수업에서는 이런 것들에 대한 아무런 경고도 없었는걸....이제 한번 겪어봤으니 더 신중하게 다시 도전해봐야겠다. 그런데 EKS는 free tier에서 무료서비스가 아닌데 프로젝트 완수하려면 그냥 무조건 내야하는건가? Udacity에 남긴 문의글에서는 클러스터를 만들때 free tier로 커버되는 cpu로 설정을 하라고 하던데 그렇게 해봐야겠다.
  
  - 요금이 0원 이상이 되면 알람이 오게끔 CloudWatch를 설정했다. 괜히 불안해서 Billing도 자주 들어가게 된다. 간단한 프로젝트인줄 알았는데 참 쉽지 않다.
  
### 200405 (일)
- EKS로 app을 kubernetes에 배포하는 프로젝트를 해야해서 AWS의 어떤 서비스를 사용해야 하고 어떤 비용이 발생할 수 있는지 찾아보았다. 
